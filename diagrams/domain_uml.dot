@startuml

ProjectManager "1" --> "0..*" Project : manages >

Project "1" --> "0..*" Task : consistsOf >
Project --> "1" Date : creationTime
Project --> "1" Date : dueTime

Task --* "1" TaskStatus : status
Task --> "0..1" Task : alternative >
Task --> "0..*"  Task : dependsOn >
Task --> "1" TimePeriod : performedDuring >

Task ..> AvailableStatus
Task ..> UnavailableStatus
Task ..> FinishedStatus
Task ..> FailedStatus

TimePeriod --> "1" Date : startTime
TimePeriod --> "1" Date : endTime

TaskStatus <|-- AvailableStatus
TaskStatus <|-- UnavailableStatus
TaskStatus <|-- FinishedStatus
TaskStatus <|-- FailedStatus

class ProjectManager {
    Calendar currentTime

    Project createProject(String title, String description, Date dueTime)
    void initialiseWith(String initFile)
}

class Project {
  String title
  String description
  Date creationTime
  Date dueTime

  void createTask(String description, double estimatedDuration, double acceptableDeviation)
}

class Task {
  String description
  double estimatedDuration
  double acceptableDeviation

  void finish(TimePeriod performedDuring)
  void fail(TimePeriod performedDuring)
}

class TaskStatus {
  boolean isFinished()
  boolean isFailed()
  boolean canFinish()
  boolean canFail()
  boolean isFinal()
}

class AvailableStatus{
}
class UnavailableStatus{
}
class FinishedStatus{
}
class FailedStatus{
}

class TimePeriod {
}

class Date {
}

@enduml
